var modals=function(){var a=this;a.init=function(){a.setClasses(),a.listeners()},a.setClasses=function(){a.$selectorAppendModal=$("body"),a.classContent="modal__content",a.classModalLink="modal__link",a.classOverlay="overlay-background",a.classModal="modal",a.classWrapper="modal__wrapper",a.classCloseButton="modal__close-btn",a.classLoader="modal__loader",a.classClosingModal="modal--closing",a.htmlLoader='<div class="loader"></div>'},a.listeners=function(){$(document).on("click","."+a.classModalLink,function(b){b.preventDefault(),a.getLocation=$(this).attr("href"),a.modalType=$(this).data("modal-type"),a.showModal()}),$(document).on("click","."+a.classCloseButton,function(){a.closeModal()}),$(document).on("click","[class*="+a.classModal+"]",function(a){a.stopPropagation()}),$(document).on("click",function(){$("."+a.classModal).length&&a.closeModal()}),$(document).keyup(function(b){27==b.keyCode&&a.closeModal()})},a.showModal=function(){$("."+a.classModal).length?a.updateModal():a.createModal(),a.loadModal()},a.createModal=function(){var b=void 0===a.modalType?"":" modal--"+a.modalType;a.setBackground("open"),a.$selectorAppendModal.prepend('<div class="'+a.classModal+b+'"><div class="'+a.classWrapper+'"></div></div>'),$("."+a.classModal).prepend('<div class="'+a.classLoader+'">'+a.htmlLoader+"</div>")},a.updateModal=function(){$("."+a.classModal).prepend('<div class="'+a.classLoader+'">'+a.htmlLoader+"</div>"),$("."+a.classModal+" ."+a.classWrapper).children().remove()},a.loadModal=function(){a.addCloseButton(),"video"===a.modalType?$("."+a.classModal+" ."+a.classWrapper).html('<div class="modal__video-wrapper"><iframe src="'+a.getLocation+'" frameborder="0" allowfullscreen></iframe></div>').find("iframe").on("load",function(){a.modalHasLoaded()}):$("."+a.classModal+" ."+a.classWrapper).load(a.getLocation+" ."+a.classContent,function(){a.modalHasLoaded()})},a.modalHasLoaded=function(){$("."+a.classLoader).remove(),"function"==typeof modalLoaded&&modalLoaded()},a.addCloseButton=function(){$("."+a.classCloseButton).length||$("."+a.classModal).prepend('<div class="'+a.classCloseButton+'"></div>')},a.closeModal=function(){$("."+a.classModal).addClass(a.classClosingModal),$("."+a.classModal).one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(b){$("."+a.classModal).remove(),a.setBackground("close")})},a.setBackground=function(b){"open"===b?a.$selectorAppendModal.addClass(a.classOverlay):a.$selectorAppendModal.removeClass(a.classOverlay)},a.init()};
